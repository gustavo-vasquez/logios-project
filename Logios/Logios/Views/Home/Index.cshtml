@using Microsoft.AspNet.Identity
@{
    ViewBag.Title = "Logios - Sapere aude";
}

@if (!Request.IsAuthenticated)
{
<div class="jumbotron jumbotron-video clearfix">                            
        <video id="video-background" poster="/Content/images/bg3.jpg" preload="auto" muted autoplay loop oncontextmenu="return false;">
            <source src="~/Content/video/library_reading_hall.mp4" type="video/mp4" />
            @*<source src="~/Content/video/library_reading_hall.webm" type="video/webm" />*@
        </video>
        <div>
            @Html.Partial("_LandingPage")
        </div>
    </div>
}
else
{
    <div class="text-center homeLogo"><p>Logios</p></div>        
}

<div id="SearchArea" class="jumbotron padding-zero exercise-search-box">
    @using (Ajax.BeginForm(
                "Search",
                "Home",
                null,
                new AjaxOptions()
                {
                    HttpMethod = "POST",
                    InsertionMode = InsertionMode.Replace,
                    UpdateTargetId = "exerciseSearchResult",
                    OnComplete = "animateResults",
                    AllowCache = false
                },
                new
                {
                    Id = "exerciseSearchForm",
                    @Class = "form",
                    Role = "form"
                }
            )
    )
    {
        <div class="form-group">
            <div class="input-group input-group-lg search-box">
                <input type="hidden" id="lastTopic" />
                <input type="hidden" id="lastCheck" />                
                <input id="searchInput" name="topicDescription" type="text" class="form-control decorate" placeholder="Busca un tema, ej: Integrales" />
                <span class="input-group-btn">
                    <button id="exerciseSearchButton" class="btn btn-info" type="submit"><span class="glyphicon glyphicon-search"></span></button>
                </span>
            </div>
        </div>
        <div class="form-group row">            
            <h4 id="search-tags" class="col-md-8">
            </h4>
            @if (Request.IsAuthenticated)
            {
                <div class="col-md-4 switch-column">
                    <div class="onoffswitch">
                        <input type="checkbox" name="showResolvedExercises" class="onoffswitch-checkbox" id="showResolvedExercises" checked />
                        <label class="onoffswitch-label" for="showResolvedExercises">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                        </label>
                    </div>
                </div>
            }
            else
            {
                @Html.CheckBox("showResolvedExercises", true, new { style = "visibility: hidden;" })
            }
        </div>
    }
</div>
<div id="exerciseSearchResult" class="exercise-search-result">
</div>
<div id="topicAreaSearchBox" class="jumbotron padding-zero text-center topic-area-search-box">
    @Html.Partial("_TopicAreaSearch")
</div>

<script type="text/javascript">
    var userId = '@User.Identity.GetUserId()';
</script>

@section scripts {
        @Scripts.Render("~/bundles/siteScripts")
    }